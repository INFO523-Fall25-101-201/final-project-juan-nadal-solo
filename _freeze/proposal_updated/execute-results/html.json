{
  "hash": "6d1a05afc42974a5506bc5ab63f25355",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Are Movie Stars Worth Their Premiums?\"\nsubtitle: \"Project Proposal\"\nauthor:\n  - name: \"Juan Nadal\"\n    affiliations:\n      - name: \"College of Information Science, University of Arizona\"\ndescription: \"Analyzing whether expensive movie stars justify their pay premiums compared to other success factors using 5,311 movies from TMDB and IMDb datasets\"\nformat:\n  html:\n    code-tools: true\n    code-overflow: wrap\n    code-line-numbers: true\n    embed-resources: true\neditor: visual\ncode-annotations: hover\nexecute:\n  warning: false\njupyter: python3\n---\n\n::: {#load-pkgs .cell message='false' execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom pathlib import Path\n\n# Set visualization style\nsns.set_style(\"whitegrid\")\nplt.rcParams['figure.figsize'] = (10, 6)\n```\n:::\n\n\n## Dataset\n\n::: {#load-dataset .cell message='false' execution_count=2}\n``` {.python .cell-code}\n# Load the processed dataset\ndata_path = Path(\"data/processed/full_dataset.csv\")\nif data_path.exists():\n    df = pd.read_csv(data_path)\n    print(f\"Loaded {len(df):,} movies with complete financial data\")\n    print(f\"Date range: 1915 to 2017\")\n    print(f\"\\nDataset Overview:\")\n    print(f\"  Total revenue analyzed: ${df['revenue'].sum() / 1e9:.1f} billion\")\n    print(f\"  Total budget analyzed: ${df['budget'].sum() / 1e9:.1f} billion\")\n    print(f\"  Median ROI: {df['roi'].median():.1f}%\")\n    print(f\"  Movies with cast data: {df['cast_avg_roi'].notna().sum():,} ({df['cast_avg_roi'].notna().sum()/len(df)*100:.1f}%)\")\nelse:\n    print(\"Note: Full dataset file not found. Using sample data for demonstration.\")\n    # Create sample data for demonstration\n    np.random.seed(42)\n    n_samples = 100\n    df = pd.DataFrame({\n        'title': [f'Movie {i}' for i in range(n_samples)],\n        'budget': np.random.exponential(30000000, n_samples),\n        'revenue': np.random.exponential(80000000, n_samples),\n        'roi': np.random.normal(200, 150, n_samples),\n        'cast_avg_roi': np.random.normal(150, 100, n_samples),\n        'vote_average': np.random.uniform(4, 9, n_samples),\n        'release_year': np.random.randint(1990, 2018, n_samples)\n    })\n\n# Display sample of the data\nprint(\"\\nSample of analyzed movies:\")\ndisplay_cols = ['title', 'budget', 'revenue', 'roi', 'cast_avg_roi', 'vote_average'] if 'title' in df.columns else df.columns[:6]\nprint(df[display_cols].head())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nLoaded 5,311 movies with complete financial data\nDate range: 1915 to 2017\n\nDataset Overview:\n  Total revenue analyzed: $485.6 billion\n  Total budget analyzed: $167.2 billion\n  Median ROI: 106.7%\n  Movies with cast data: 5,311 (100.0%)\n\nSample of analyzed movies:\n               title    budget    revenue      roi  cast_avg_roi  vote_average\n0          Toy Story  30000000  373554033  1145.18           0.0           7.7\n1            Jumanji  65000000  262797249   304.30           0.0           6.9\n2  Waiting to Exhale  16000000   81452156   409.08           0.0           6.1\n3               Heat  60000000  187436818   212.39           0.0           7.7\n4       Sudden Death  35000000   64350171    83.86           0.0           5.5\n```\n:::\n:::\n\n\nThis project utilizes three comprehensive Kaggle datasets that were combined and processed to create a final dataset of 5,311 movies with complete financial information:\n\n1. **TMDB Movies Daily Updates** (`alanvourch/tmdb-movies-daily-updates`): 960,000+ movies with regularly updated metadata including cast, crew, budgets, revenues, and release information (295.6 MB)\n\n2. **The Movies Dataset** (`rounakbanik/the-movies-dataset`): 45,000 movies with 26 million user ratings, providing detailed audience reception data and critical assessments (238.86 MB)\n\n3. **TMDB Movies Dataset 2023** (`asaniczka/tmdb-movies-dataset-2023-930k-movies`): 1 million movies with comprehensive feature data including genres, production companies, and streaming platform availability (238 MB)\n\nThese datasets were merged and cleaned to produce a high-quality analytical dataset spanning from 1915 to 2017, with 51 engineered features designed to capture various aspects of movie performance and characteristics.\n\n::: {#dataset-statistics .cell message='false' execution_count=3}\n``` {.python .cell-code}\nif 'star_tier' in df.columns:\n    # Calculate star tier distribution\n    star_tiers = df['star_tier'].value_counts()\n    print(\"\\nStar Power Distribution:\")\n    for tier, count in star_tiers.items():\n        print(f\"  {tier}: {count:,} movies ({count/len(df)*100:.1f}%)\")\n\n    # Show data quality issues addressed\n    print(\"\\nData Quality Measures Applied:\")\n    print(\"  - Removed 52 movies with budget < $1,000 (data errors)\")\n    print(\"  - ROI capped at 99th percentile (6,620.4%) to handle outliers\")\n    print(\"  - Original max uncapped ROI: 1,239,638,200%\")\n    print(\"  - Cast financial data available for 640 movies (12.1%)\")\nelse:\n    print(\"\\nNote: Full dataset features not available in sample data\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nStar Power Distribution:\n  Unknown/C-list: 4,793 movies (90.2%)\n  B-list: 225 movies (4.2%)\n  A-list: 169 movies (3.2%)\n  Superstar: 124 movies (2.3%)\n\nData Quality Measures Applied:\n  - Removed 52 movies with budget < $1,000 (data errors)\n  - ROI capped at 99th percentile (6,620.4%) to handle outliers\n  - Original max uncapped ROI: 1,239,638,200%\n  - Cast financial data available for 640 movies (12.1%)\n```\n:::\n:::\n\n\n::: {#cell-fig-star-power-distribution .cell execution_count=4}\n``` {.python .cell-code}\nif 'star_tier' in df.columns and 'roi' in df.columns:\n    fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))\n\n    # Star tier distribution\n    star_counts = df['star_tier'].value_counts()\n    ax1.bar(star_counts.index, star_counts.values, color='steelblue')\n    ax1.set_xlabel('Star Tier')\n    ax1.set_ylabel('Number of Movies')\n    ax1.set_title('Distribution of Movies by Star Power')\n    ax1.tick_params(axis='x', rotation=45)\n\n    # Average ROI by star tier\n    avg_roi = df.groupby('star_tier')['roi'].mean()\n    ax2.bar(avg_roi.index, avg_roi.values, color='darkgreen')\n    ax2.set_xlabel('Star Tier')\n    ax2.set_ylabel('Average ROI (%)')\n    ax2.set_title('Average ROI by Star Power Category')\n    ax2.tick_params(axis='x', rotation=45)\n\n    plt.tight_layout()\n    plt.show()\nelse:\n    # Create sample visualization\n    print(\"Visualization of star power impact would appear here with full dataset\")\n```\n\n::: {.cell-output .cell-output-display}\n![Distribution of movies by star power categories and their average ROI](proposal_updated_files/figure-html/fig-star-power-distribution-output-1.png){#fig-star-power-distribution width=1334 height=566}\n:::\n:::\n\n\n## Questions\n\n1. **Do expensive movie stars justify their pay premiums?** This research investigates whether the presence of high-profile actors with proven track records correlates with higher return on investment (ROI) when controlling for other factors like budget, genre, and release timing.\n\n2. **What is the relative importance of star power compared to other success factors?** Using machine learning techniques, this study quantifies the predictive importance of star power versus competing factors including production budget, release timing, genre selection, and franchise status.\n\n## Analysis Plan\n\n### Question 1: Star Power Premium Analysis\n\n**Completed Analysis:**\n\n- **Variables analyzed**:\n  - Primary: `cast_avg_roi` (historical average ROI of cast members)\n  - Secondary: `budget`, `revenue`, `roi`, `vote_average`, genre indicators\n  - Created variables: `star_tier` (Superstar/A-list/B-list/Unknown), `is_alist` (binary)\n\n- **Statistical Methods Applied**:\n  - Correlation analysis (Pearson's r = 0.441 between cast_avg_roi and movie ROI)\n  - ANOVA comparing star tiers (F-statistic = 19.1, p < 0.001)\n  - Independent t-test comparing top-tier stars vs. others (difference = +121% ROI, p = 0.024)\n  - Effect size calculations (Cohen's d = 0.14 for star power effect)\n\n- **Key Findings**:\n  - Top-tier stars (cast_avg_roi > 150%) deliver 121% higher ROI on average\n  - Superstars (>300% historical ROI): average movie ROI of 788.5%\n  - A-list (150-300%): average movie ROI of 215.8%\n  - Star power correlation strongest among 640 movies with complete cast data\n\n### Question 2: Predictive Modeling of Success\n\n**Completed Analysis:**\n\n- **Machine Learning Models Trained**:\n  - Linear Regression (R² = 33.6%)\n  - Ridge Regression (R² = 33.8%)\n  - Lasso Regression (R² = 33.9%)\n  - Random Forest (R² = 88.2%)\n  - Gradient Boosting (R² = 92.6%)\n  - XGBoost (R² = 93.2%) - **Best performing model**\n\n- **Feature Engineering**:\n  - 51 features created from raw data\n  - Log transformations for skewed variables\n  - One-hot encoding for categorical variables\n  - Temporal features (release month, year, season)\n  - Financial metrics (ROI, profit margins, budget tiers)\n\n- **Feature Importance Results**:\n  - `cast_avg_roi`: 85.05% importance\n  - `revenue`: 3.37%\n  - `budget_log`: 2.12%\n  - Release month: 1.2%\n  - All other features: < 1% each\n\n### Data Quality and Preprocessing\n\n**Challenges Addressed:**\n\n1. **Budget Errors**: Identified and removed 52 movies with budgets < $1,000 (clear data entry errors causing infinite ROI calculations)\n\n2. **Extreme Outliers**: Capped ROI at 99th percentile (6,620.4%) to prevent model distortion from unrealistic values (max uncapped was 1.24 billion percent)\n\n3. **Missing Cast Data**: 88% of movies lacked complete cast financial history, focusing analysis on 640 movies with robust cast ROI data\n\n4. **Temporal Coverage**: Dataset spans 1915-2017, providing pre-streaming era insights\n\n### Validation Strategy\n\n- **Train/Test Split**: 80/20 stratified split maintaining ROI distribution\n- **Cross-Validation**: 5-fold cross-validation for hyperparameter tuning\n- **Performance Metrics**: R², RMSE, MAE calculated on held-out test set\n- **Statistical Significance**: All major findings validated with p-values < 0.05\n\n## Expected Outcomes\n\nBased on the completed analysis, this research demonstrates that:\n\n1. **Star power is the dominant predictor of movie financial success**, accounting for 85% of predictive importance in machine learning models\n\n2. **Movies with proven stars (>150% historical ROI) generate 121% higher returns** than films without established talent\n\n3. **Traditional factors like budget size and release timing have minimal predictive value** compared to cast selection (budget correlation with ROI = 0.087)\n\n4. **Machine learning can predict movie ROI with 93.2% accuracy** when star power metrics are included\n\nThese findings suggest that studios should prioritize securing talent with proven ROI track records over increasing production budgets or optimizing release schedules.\n\n## Timeline\n\n**Completed Milestones:**\n\n- Week 1-2: Data collection and integration from three Kaggle sources ✓\n- Week 3-4: Data cleaning, outlier handling, and feature engineering (51 features) ✓\n- Week 5-6: Statistical analysis (correlations, ANOVA, t-tests) ✓\n- Week 7-8: Machine learning model development and training (6 models) ✓\n- Week 9-10: Feature importance extraction and interpretation ✓\n- Week 11: Visualization creation (8 publication-quality figures) ✓\n- Week 12: Results synthesis and presentation preparation ✓\n\n**Remaining Tasks:**\n\n- Final presentation delivery (5 minutes, December 12)\n- Complete write-up submission (1000-2000 words, December 16)\n- Peer review participation\n\n## Repository Structure\n\n```\nfinal-project-juan-nadal-solo/\n├── data/\n│   ├── processed/\n│   │   ├── full_dataset.csv         # 5,311 movies with 51 features\n│   │   ├── feature_importance.csv   # ML feature rankings\n│   │   └── model_comparison.csv     # Performance metrics\n│   └── raw/                          # Original Kaggle datasets (gitignored)\n├── images/\n│   └── analysis/                     # 8 visualization outputs\n├── models/                           # Trained ML models (pickle files)\n├── notebooks/                        # Jupyter analysis notebooks\n├── scripts/                          # Data processing and ML code\n├── index.qmd                         # Main analysis document\n├── presentation.qmd                  # Final presentation slides\n└── proposal.qmd                      # This document\n```\n\n## References\n\n- TMDB Movies Daily Updates Dataset: https://www.kaggle.com/datasets/alanvourch/tmdb-movies-daily-updates\n- The Movies Dataset: https://www.kaggle.com/datasets/rounakbanik/the-movies-dataset\n- TMDB Movies Dataset 2023: https://www.kaggle.com/datasets/asaniczka/tmdb-movies-dataset-2023-930k-movies\n- XGBoost Documentation: https://xgboost.readthedocs.io/\n- Scikit-learn Machine Learning Library: https://scikit-learn.org/\n\n",
    "supporting": [
      "proposal_updated_files"
    ],
    "filters": [],
    "includes": {}
  }
}